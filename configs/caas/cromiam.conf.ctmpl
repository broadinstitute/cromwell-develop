{{with $environment := env "ENVIRONMENT"}}
{{with $clientSecrets := vault (printf "secret/dsde/caas/%s/cromiam/auth-token" $environment)

akka {
  actor.guardian-supervisor-strategy = akka.actor.StoppingSupervisorStrategy
}

cromiam {
  user_id_header = "X-User-Id"
  allowed_users = [ "anon", "yossi" ]

  http {
    interface = "0.0.0.0"
    port = 8000
  }

}

google {
  client_id = {{$clientSecrets.Data.client_id}}
}

sam {
  interface = "0.0.0.0"
  port = 8080
}

cromwell {
  interface = "cromwell"
  port = 8001
}

{{end}}
{{end}}